import React, { useState, useEffect } from 'react';
import { 
  Leaf, 
  User, 
  Lock, 
  Trash2, 
  Plus, 
  MessageSquare, 
  Check, 
  X, 
  Globe,
  Send,
  ArrowRight,
  Settings,
  Layout,
  ChevronDown,
  ChevronUp
} from 'lucide-react';

// --- Mock Data (Başlangıç Verileri) ---
const initialArticles = [
  {
    id: 1,
    title: "Yapay Zeka Destekli Orman Koruma",
    category: "Teknoloji",
    content: "Teknofest kapsamında geliştirilen yeni İHA'lar, orman yangınlarını başlamadan tespit edebiliyor. Bu sistemler termal kameralar ve yapay zeka algoritmaları kullanarak %99 doğrulukla çalışıyor. Geleneksel yöntemlere göre çok daha hızlı müdahale imkanı sağlayan bu teknoloji, geleceğin yeşil dünyasını korumada kritik rol oynuyor.",
    image: "https://images.unsplash.com/photo-1591857177580-dc82b9e4e119?auto=format&fit=crop&q=80&w=1000",
    date: "12 Ekim 2025",
    comments: [
      { id: 101, user: "Ahmet Y.", text: "Harika bir proje, ülkemiz için çok önemli.", approved: true },
      { id: 102, user: "Selin K.", text: "Bu teknolojiyi tarımda da kullanabilir miyiz?", approved: false }
    ]
  },
  {
    id: 2,
    title: "Sıfır Atık Mavi Hareketi",
    category: "Okyanus",
    content: "Denizlerimizdeki kirlilikle mücadele için geliştirilen otonom deniz temizleme robotları göreve başladı. Güneş enerjisiyle çalışan bu robotlar günde 500kg atık toplayabiliyor. Deniz ekosistemini korumak adına atılan bu dev adım, mikroplastik kirliliğinin önüne geçmek için tasarlandı.",
    image: "https://images.unsplash.com/photo-1484291470158-b8f8d608850d?auto=format&fit=crop&q=80&w=1000",
    date: "10 Ekim 2025",
    comments: []
  },
  {
    id: 3,
    title: "Yenilenebilir Enerji Zirvesi",
    category: "Enerji",
    content: "Türkiye'nin en büyük güneş enerjisi santrali projesi açıklandı. Bu proje ile karbon ayak izimizi %20 oranında azaltmayı hedefliyoruz. Konya Karapınar bölgesinde kurulan dev paneller, binlerce hanenin elektrik ihtiyacını tamamen temiz kaynaklardan karşılayacak.",
    image: "https://images.unsplash.com/photo-1509391366360-2e959784a276?auto=format&fit=crop&q=80&w=1000",
    date: "08 Ekim 2025",
    comments: [{ id: 103, user: "Mehmet T.", text: "Gelecek güneş enerjisinde!", approved: true }]
  }
];

export default function App() {
  // --- State Yönetimi ---
  const [view, setView] = useState('home'); // home, article, admin, login
  const [isAdmin, setIsAdmin] = useState(false);
  const [adminTab, setAdminTab] = useState('articles'); // 'articles' or 'settings'
  const [articles, setArticles] = useState(initialArticles);
  const [selectedArticle, setSelectedArticle] = useState(null);
  const [adminPassword, setAdminPassword] = useState('');
  const [loginError, setLoginError] = useState('');
  
  // Site Config State (Site Ayarları)
  const [siteConfig, setSiteConfig] = useState({
    siteName: 'TEKNOİKLİM',
    heroTitle: 'Teknofest Yeşil Gelecek',
    heroDesc: 'Teknoloji ve doğanın buluştuğu nokta. İklim değişikliği ile mücadelede en yeni teknolojiler, haberler ve projeler burada.'
  });

  // Admin UI States
  const [showAddForm, setShowAddForm] = useState(false);
  const [expandedArticleId, setExpandedArticleId] = useState(null);

  // Form States
  const [newArticle, setNewArticle] = useState({ title: '', category: '', content: '', image: '' });
  const [newComment, setNewComment] = useState('');
  const [commentUser, setCommentUser] = useState('');

  // --- Yardımcı Fonksiyonlar ---
  const handleLogin = (e) => {
    e.preventDefault();
    if (adminPassword === 'teknofest2026') {
      setIsAdmin(true);
      setView('admin');
      setLoginError('');
    } else {
      setLoginError('Hatalı şifre! (İpucu: teknofest2026)');
    }
  };

  const handleLogout = () => {
    setIsAdmin(false);
    setView('home');
    setAdminPassword('');
  };

  const deleteArticle = (id) => {
    setArticles(articles.filter(a => a.id !== id));
  };

  const addArticle = (e) => {
    e.preventDefault();
    const article = {
      id: Date.now(),
      ...newArticle,
      date: new Date().toLocaleDateString('tr-TR'),
      image: newArticle.image || "https://images.unsplash.com/photo-1497436072909-60f360e1d4b0?auto=format&fit=crop&q=80&w=1000",
      comments: []
    };
    setArticles([article, ...articles]);
    setNewArticle({ title: '', category: '', content: '', image: '' });
    setShowAddForm(false);
  };

  const addComment = (e) => {
    e.preventDefault();
    const updatedArticles = articles.map(article => {
      if (article.id === selectedArticle.id) {
        return {
          ...article,
          comments: [...article.comments, { id: Date.now(), user: commentUser, text: newComment, approved: false }]
        };
      }
      return article;
    });
    setArticles(updatedArticles);
    setSelectedArticle(updatedArticles.find(a => a.id === selectedArticle.id));
    setNewComment('');
    setCommentUser('');
  };

  const toggleCommentApproval = (articleId, commentId) => {
    setArticles(articles.map(article => {
      if (article.id === articleId) {
        return {
          ...article,
          comments: article.comments.map(c => c.id === commentId ? { ...c, approved: !c.approved } : c)
        };
      }
      return article;
    }));
  };

  const deleteComment = (articleId, commentId) => {
    setArticles(articles.map(article => {
      if (article.id === articleId) {
        return { ...article, comments: article.comments.filter(c => c.id !== commentId) };
      }
      return article;
    }));
  };

  // --- Bileşenler ---

  const Navbar = () => (
    <nav className="bg-slate-900 text-white shadow-lg sticky top-0 z-50">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="flex justify-between h-16 items-center">
          <div className="flex items-center cursor-pointer" onClick={() => setView('home')}>
            <Globe className="h-8 w-8 text-green-400 mr-2" />
            <span className="font-bold text-xl tracking-wider uppercase">
              {siteConfig.siteName.slice(0, 5)}<span className="text-green-400">{siteConfig.siteName.slice(5)}</span>
            </span>
          </div>
          <div className="flex space-x-2 md:space-x-4">
            <button onClick={() => setView('home')} className={`px-3 py-2 rounded-md text-sm font-medium ${view === 'home' ? 'bg-slate-800 text-green-400' : 'hover:bg-slate-800'}`}>Ana Sayfa</button>
            {isAdmin ? (
              <button onClick={() => setView('admin')} className="flex items-center px-3 py-2 bg-red-600 rounded-md text-sm font-medium hover:bg-red-700">
                <Lock className="w-4 h-4 mr-1 hidden sm:block" /> Admin
              </button>
            ) : (
              <button onClick={() => setView('login')} className="flex items-center px-3 py-2 border border-gray-600 rounded-md text-sm font-medium hover:bg-slate-800">
                <User className="w-4 h-4 mr-1 hidden sm:block" /> Giriş
              </button>
            )}
          </div>
        </div>
      </div>
    </nav>
  );

  const HomeView = () => (
    <div className="min-h-screen bg-gray-50 pb-20">
      <div className="relative bg-slate-900 text-white overflow-hidden">
        <div className="absolute inset-0">
          <img className="w-full h-full object-cover opacity-30" src="https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&q=80&w=1500" alt="Yeşil Gelecek" />
        </div>
        <div className="relative max-w-7xl mx-auto py-24 px-4 sm:px-6 lg:px-8 text-center">
          <h1 className="text-4xl font-extrabold tracking-tight sm:text-5xl lg:text-6xl animate-bounce-slow">
            {siteConfig.heroTitle}
          </h1>
          <p className="mt-6 text-xl max-w-3xl mx-auto text-gray-300">
            {siteConfig.heroDesc}
          </p>
          <div className="mt-10 flex justify-center">
            <button className="px-8 py-3 rounded-md text-slate-900 bg-green-400 hover:bg-green-500 font-bold transition-all transform hover:scale-105">
              Projeleri Keşfet
            </button>
          </div>
        </div>
      </div>

      <div className="max-w-7xl mx-auto py-12 px-4">
        <h2 className="text-3xl font-extrabold text-gray-900 mb-8 flex items-center">
          <Leaf className="mr-2 text-green-600" /> Güncel Projeler
        </h2>
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          {articles.map((article) => (
            <div key={article.id} className="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-300">
              <div className="h-48 overflow-hidden relative">
                <span className="absolute top-3 left-3 bg-green-500 text-white text-[10px] px-2 py-1 rounded-full font-bold uppercase z-10">
                  {article.category}
                </span>
                <img src={article.image} alt={article.title} className="w-full h-full object-cover hover:scale-110 transition-transform duration-700" />
              </div>
              <div className="p-6">
                <div className="text-xs text-gray-400 mb-2 font-medium uppercase tracking-tighter">{article.date}</div>
                <h3 className="text-xl font-bold text-gray-900 mb-3 leading-tight">{article.title}</h3>
                <p className="text-gray-600 text-sm line-clamp-3 mb-6">
                  {article.content}
                </p>
                <button 
                  onClick={() => { setSelectedArticle(article); setView('article'); window.scrollTo(0,0); }}
                  className="w-full py-2.5 rounded-xl text-green-700 bg-green-50 hover:bg-green-100 font-semibold flex items-center justify-center transition-colors"
                >
                  Detayları Gör <ArrowRight className="ml-2 w-4 h-4" />
                </button>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  );

  const ArticleDetailView = () => (
    <div className="min-h-screen bg-white">
      <div className="h-[50vh] w-full relative">
        <img src={selectedArticle.image} alt={selectedArticle.title} className="w-full h-full object-cover" />
        <div className="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-80" />
        <div className="absolute bottom-0 left-0 right-0 p-8 max-w-5xl mx-auto">
          <button onClick={() => setView('home')} className="text-white/80 hover:text-white mb-4 flex items-center text-sm font-medium">
            <ArrowRight className="w-4 h-4 mr-2 rotate-180" /> Geri Dön
          </button>
          <span className="bg-green-500 text-white px-3 py-1 rounded-full text-xs font-bold uppercase mb-4 inline-block tracking-widest">{selectedArticle.category}</span>
          <h1 className="text-4xl md:text-6xl font-black text-white leading-tight">{selectedArticle.title}</h1>
        </div>
      </div>

      <div className="max-w-4xl mx-auto px-6 py-12">
        <div className="flex items-center text-gray-500 text-sm mb-8 space-x-4 border-b pb-4">
          <span className="font-bold text-green-600">Teknoİklim Haber</span>
          <span>•</span>
          <span>{selectedArticle.date}</span>
        </div>
        
        <div className="text-gray-800 text-xl leading-relaxed whitespace-pre-wrap font-serif">
          {selectedArticle.content}
        </div>

        <div className="mt-20 pt-10 border-t border-gray-100">
          <h3 className="text-2xl font-bold mb-8 flex items-center">
            <MessageSquare className="mr-3 text-green-500" /> Tartışmaya Katıl ({selectedArticle.comments.filter(c => c.approved).length})
          </h3>
          
          <div className="space-y-6 mb-12">
            {selectedArticle.comments.filter(c => c.approved).length === 0 && (
              <div className="p-8 bg-gray-50 rounded-2xl text-center text-gray-500 italic">
                Bu proje hakkında henüz onaylanmış bir yorum yok. İlk yorumu siz yapın!
              </div>
            )}
            {selectedArticle.comments.filter(c => c.approved).map(comment => (
              <div key={comment.id} className="p-6 bg-gray-50 rounded-2xl border border-gray-100">
                <div className="flex items-center mb-2">
                  <div className="w-8 h-8 rounded-full bg-green-200 flex items-center justify-center text-green-700 font-bold text-xs mr-3">
                    {comment.user.charAt(0)}
                  </div>
                  <span className="font-bold text-gray-900">{comment.user}</span>
                </div>
                <p className="text-gray-700 ml-11">{comment.text}</p>
              </div>
            ))}
          </div>

          <div className="bg-slate-900 p-8 rounded-3xl shadow-2xl text-white">
            <h4 className="text-xl font-bold mb-6">Yorum Bırakın</h4>
            <form onSubmit={addComment} className="space-y-4">
              <div>
                <input 
                  required 
                  type="text" 
                  placeholder="İsminiz"
                  value={commentUser}
                  onChange={(e) => setCommentUser(e.target.value)}
                  className="w-full p-4 bg-slate-800 border-none rounded-xl focus:ring-2 focus:ring-green-400 outline-none transition-all" 
                />
              </div>
              <div>
                <textarea 
                  required 
                  rows="4" 
                  placeholder="Düşüncelerinizi paylaşın..."
                  value={newComment}
                  onChange={(e) => setNewComment(e.target.value)}
                  className="w-full p-4 bg-slate-800 border-none rounded-xl focus:ring-2 focus:ring-green-400 outline-none transition-all"
                ></textarea>
              </div>
              <button type="submit" className="w-full bg-green-500 text-slate-900 font-bold py-4 rounded-xl hover:bg-green-400 transition-colors flex items-center justify-center">
                <Send className="w-4 h-4 mr-2" /> Gönder
              </button>
              <p className="text-center text-[10px] text-gray-500 uppercase tracking-widest mt-4">Yorumunuz yönetici onayından sonra yayınlanacaktır.</p>
            </form>
          </div>
        </div>
      </div>
    </div>
  );

  const AdminDashboard = () => (
    <div className="min-h-screen bg-slate-50 flex flex-col md:flex-row">
      <div className="w-full md:w-72 bg-slate-900 text-white flex-shrink-0 shadow-2xl">
        <div className="p-8 border-b border-slate-800">
          <div className="flex items-center justify-between">
            <h2 className="text-2xl font-black text-white flex items-center">
              <span className="w-8 h-8 bg-red-600 rounded mr-2 flex items-center justify-center"><Lock size={16}/></span>
              PANEL
            </h2>
          </div>
        </div>
        <nav className="p-6 space-y-2">
          <button 
            onClick={() => setAdminTab('articles')}
            className={`flex items-center w-full p-4 rounded-xl transition duration-200 font-bold ${adminTab === 'articles' ? 'bg-red-600 text-white shadow-lg' : 'hover:bg-slate-800 text-slate-400'}`}
          >
            <Layout className="w-5 h-5 mr-3" /> Makale Yönetimi
          </button>
          <button 
            onClick={() => setAdminTab('settings')}
            className={`flex items-center w-full p-4 rounded-xl transition duration-200 font-bold ${adminTab === 'settings' ? 'bg-red-600 text-white shadow-lg' : 'hover:bg-slate-800 text-slate-400'}`}
          >
            <Settings className="w-5 h-5 mr-3" /> Site Ayarları
          </button>
          <div className="pt-10">
            <button onClick={handleLogout} className="flex items-center text-slate-500 hover:text-white p-4 w-full transition-colors border-t border-slate-800">
              <User className="mr-3 w-5 h-5" /> Oturumu Kapat
            </button>
          </div>
        </nav>
      </div>

      <div className="flex-1 p-6 md:p-12 overflow-y-auto">
        {adminTab === 'articles' && (
          <div className="max-w-6xl mx-auto">
            <div className="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-10 gap-4">
              <h1 className="text-3xl font-black text-slate-900 tracking-tight">İçerik Stratejisi</h1>
              <button 
                onClick={() => setShowAddForm(!showAddForm)} 
                className={`flex items-center px-6 py-3 rounded-xl font-bold transition-all shadow-md ${showAddForm ? 'bg-slate-200 text-slate-700' : 'bg-slate-900 text-white hover:bg-black transform hover:-translate-y-1'}`}
              >
                {showAddForm ? <><X className="w-5 h-5 mr-2" /> Vazgeç</> : <><Plus className="w-5 h-5 mr-2" /> Yeni İçerik</>}
              </button>
            </div>

            {showAddForm && (
              <div className="bg-white rounded-3xl shadow-xl p-8 mb-10 border border-slate-100 animate-in fade-in slide-in-from-top-4 duration-500">
                <form onSubmit={addArticle} className="space-y-6">
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                      <label className="block text-xs font-bold text-slate-400 uppercase mb-2">Başlık</label>
                      <input required type="text" value={newArticle.title} onChange={e => setNewArticle({...newArticle, title: e.target.value})} className="w-full p-4 bg-slate-50 border-none rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none" />
                    </div>
                    <div>
                      <label className="block text-xs font-bold text-slate-400 uppercase mb-2">Kategori</label>
                      <select value={newArticle.category} onChange={e => setNewArticle({...newArticle, category: e.target.value})} className="w-full p-4 bg-slate-50 border-none rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none">
                        <option value="">Seçiniz</option>
                        <option value="Teknoloji">Teknoloji</option>
                        <option value="İklim">İklim</option>
                        <option value="Enerji">Enerji</option>
                      </select>
                    </div>
                  </div>
                  <div>
                    <label className="block text-xs font-bold text-slate-400 uppercase mb-2 text-center">Makale İçeriği</label>
                    <textarea required rows="6" value={newArticle.content} onChange={e => setNewArticle({...newArticle, content: e.target.value})} className="w-full p-4 bg-slate-50 border-none rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none"></textarea>
                  </div>
                  <button type="submit" className="w-full bg-blue-600 text-white py-4 rounded-2xl font-bold hover:bg-blue-700 shadow-lg transition-all">Makaleyi Yayına Al</button>
                </form>
              </div>
            )}

            <div className="space-y-6">
              {articles.map(article => (
                <div key={article.id} className="bg-white rounded-3xl shadow-sm border border-slate-100 overflow-hidden hover:border-blue-200 transition-all">
                  <div className="p-6 flex flex-col md:flex-row items-center justify-between gap-6">
                    <div className="flex items-center flex-1 min-w-0">
                      <img src={article.image} className="w-20 h-20 rounded-2xl object-cover mr-6 shadow-md" />
                      <div className="truncate">
                        <h4 className="font-black text-slate-900 text-lg mb-1">{article.title}</h4>
                        <div className="flex items-center space-x-3 text-xs">
                          <span className="bg-slate-100 text-slate-600 px-3 py-1 rounded-full font-bold uppercase tracking-widest">{article.category}</span>
                          <span className="text-slate-400 font-medium">{article.date}</span>
                        </div>
                      </div>
                    </div>
                    <div className="flex items-center space-x-4">
                      <button 
                        onClick={() => setExpandedArticleId(expandedArticleId === article.id ? null : article.id)}
                        className={`px-4 py-2 rounded-xl text-sm font-bold flex items-center transition-colors ${expandedArticleId === article.id ? 'bg-blue-600 text-white shadow-inner' : 'bg-slate-50 text-slate-700 hover:bg-slate-100'}`}
                      >
                        <MessageSquare className="w-4 h-4 mr-2" />
                        {article.comments.length} Yorum
                        {expandedArticleId === article.id ? <ChevronUp className="w-4 h-4 ml-2" /> : <ChevronDown className="w-4 h-4 ml-2" />}
                      </button>
                      <button onClick={() => deleteArticle(article.id)} className="p-3 text-red-500 hover:bg-red-50 rounded-2xl transition-colors">
                        <Trash2 className="w-6 h-6" />
                      </button>
                    </div>
                  </div>

                  {expandedArticleId === article.id && (
                    <div className="bg-slate-50 border-t border-slate-100 p-8 space-y-4">
                      {article.comments.length === 0 ? (
                        <p className="text-center text-slate-400 font-medium py-10">Henüz yorum gelmemiş.</p>
                      ) : (
                        article.comments.map(c => (
                          <div key={c.id} className="bg-white p-5 rounded-2xl border border-slate-100 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 group">
                            <div className="flex-1">
                              <div className="flex items-center mb-1">
                                <span className="font-bold text-slate-900 mr-3">{c.user}</span>
                                <span className={`text-[10px] font-black uppercase px-2 py-1 rounded-md ${c.approved ? 'bg-green-100 text-green-700' : 'bg-amber-100 text-amber-700'}`}>
                                  {c.approved ? 'Yayında' : 'Onay Bekliyor'}
                                </span>
                              </div>
                              <p className="text-slate-600 text-sm leading-relaxed">{c.text}</p>
                            </div>
                            <div className="flex items-center space-x-2 w-full sm:w-auto">
                              <button 
                                onClick={() => toggleCommentApproval(article.id, c.id)} 
                                className={`flex-1 sm:flex-none p-3 rounded-xl transition-all ${c.approved ? 'bg-amber-500 text-white' : 'bg-green-500 text-white shadow-md'}`}
                                title={c.approved ? "Gizle" : "Onayla"}
                              >
                                {c.approved ? <X className="w-5 h-5" /> : <Check className="w-5 h-5" />}
                              </button>
                              <button onClick={() => deleteComment(article.id, c.id)} className="flex-1 sm:flex-none p-3 rounded-xl bg-slate-200 text-slate-700 hover:bg-red-500 hover:text-white transition-all">
                                <Trash2 className="w-5 h-5" />
                              </button>
                            </div>
                          </div>
                        ))
                      )}
                    </div>
                  )}
                </div>
              ))}
            </div>
          </div>
        )}

        {adminTab === 'settings' && (
          <div className="max-w-3xl mx-auto">
             <h1 className="text-3xl font-black text-slate-900 mb-10">Portal Yapılandırması</h1>
             <div className="bg-white rounded-[40px] shadow-2xl p-10 border border-slate-100">
                <form className="space-y-8">
                   <div>
                      <label className="block text-xs font-black text-slate-400 uppercase mb-4 tracking-tighter">Marka İsmi</label>
                      <input 
                        type="text" 
                        value={siteConfig.siteName}
                        onChange={(e) => setSiteConfig({...siteConfig, siteName: e.target.value.toUpperCase()})}
                        className="w-full p-5 bg-slate-50 border-none rounded-3xl font-black text-2xl focus:ring-4 focus:ring-green-100 outline-none transition-all"
                      />
                   </div>

                   <div>
                      <label className="block text-xs font-black text-slate-400 uppercase mb-4 tracking-tighter">Manşet Başlığı</label>
                      <input 
                         type="text" 
                         value={siteConfig.heroTitle}
                         onChange={(e) => setSiteConfig({...siteConfig, heroTitle: e.target.value})}
                         className="w-full p-5 bg-slate-50 border-none rounded-3xl font-bold text-lg focus:ring-4 focus:ring-green-100 outline-none transition-all"
                      />
                   </div>

                   <div>
                      <label className="block text-xs font-black text-slate-400 uppercase mb-4 tracking-tighter">Alt Tanıtım Metni</label>
                      <textarea 
                         rows="4"
                         value={siteConfig.heroDesc}
                         onChange={(e) => setSiteConfig({...siteConfig, heroDesc: e.target.value})}
                         className="w-full p-5 bg-slate-50 border-none rounded-3xl text-slate-600 focus:ring-4 focus:ring-green-100 outline-none transition-all"
                      ></textarea>
                   </div>

                   <button type="button" onClick={() => alert('Ayarlar Kaydedildi!')} className="w-full bg-green-500 text-slate-900 font-black py-5 rounded-[25px] hover:bg-green-400 shadow-xl transition-all transform hover:scale-[1.02] active:scale-95">
                      SİTEYİ GÜNCELLE
                   </button>
                </form>
             </div>
          </div>
        )}
      </div>
    </div>
  );

  const LoginView = () => (
    <div className="min-h-screen bg-slate-950 flex items-center justify-center p-6">
      <div className="max-w-md w-full">
        <div className="text-center mb-10">
          <div className="w-20 h-20 bg-red-600 rounded-[2rem] mx-auto flex items-center justify-center shadow-[0_0_50px_rgba(220,38,38,0.3)] rotate-12 mb-6">
            <Lock className="text-white w-10 h-10 -rotate-12" />
          </div>
          <h2 className="text-4xl font-black text-white mb-2">Yönetici Erişimi</h2>
          <p className="text-slate-500 font-medium">Lütfen güvenlik anahtarını girin.</p>
        </div>
        
        <div className="bg-slate-900/50 backdrop-blur-xl rounded-[40px] p-10 border border-slate-800 shadow-2xl">
          <form onSubmit={handleLogin} className="space-y-6">
            <input 
              type="password" 
              autoFocus
              className="w-full p-5 bg-slate-800/50 border-2 border-slate-700 rounded-3xl text-white text-center text-2xl tracking-[1em] focus:border-red-600 outline-none transition-all"
              placeholder="••••••••"
              value={adminPassword}
              onChange={(e) => setAdminPassword(e.target.value)}
            />
            {loginError && <div className="p-4 bg-red-500/10 text-red-500 rounded-2xl text-center text-sm font-bold border border-red-500/20">{loginError}</div>}
            <button className="w-full bg-white text-slate-950 font-black py-5 rounded-3xl hover:bg-red-600 hover:text-white transition-all transform hover:scale-[1.02] active:scale-95">
              GİRİŞ YAP
            </button>
          </form>
          <button onClick={() => setView('home')} className="w-full mt-6 text-slate-500 font-bold hover:text-white transition-colors">Vazgeç</button>
        </div>
      </div>
    </div>
  );

  return (
    <div className="min-h-screen font-sans selection:bg-green-200 selection:text-green-900">
      {view !== 'login' && view !== 'admin' && <Navbar />}
      {view === 'home' && <HomeView />}
      {view === 'article' && selectedArticle && <ArticleDetailView />}
      {view === 'login' && <LoginView />}
      {view === 'admin' && isAdmin && <AdminDashboard />}
      
      {/* Basit Footer */}
      {view !== 'admin' && view !== 'login' && (
        <footer className="bg-white py-10 border-t border-gray-100">
          <div className="max-w-7xl mx-auto px-4 text-center">
            <p className="text-gray-400 text-sm font-medium">© 2026 TEKNOİKLİM - Yeşil Gelecek Teknolojileri</p>
          </div>
        </footer>
      )}
    </div>
  );
}